{"ast":null,"code":"const API_URL = window.location.hostname === 'localhost' ? 'http://localhost:5000/api/v1/messages' : 'http://52.221.214.117:5000/api/v1/messages'; // Get database location\n\nexport function getLocation() {\n  //Fetching the sailboat latest location\n  return fetch(API_URL).then(res => res.json()).then(locations => {\n    return locations;\n  });\n}\n/* Get current location\r\nexport function getCurLocation() {\r\n  return new Promise((resolve) => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      resolve({\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      });\r\n    }, () => {      \r\n      resolve(fetch('https://ipapi.co/json')\r\n        .then(res => res.json())\r\n        .then(location => {\r\n          return {\r\n            lat: location.latitude,\r\n            lng: location.longitude\r\n          };\r\n        }));\r\n    });\r\n  });\r\n}\r\n*/\n\nexport function sendLocation(location) {\n  return fetch(API_URL, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify(location)\n  }).then(res => res.json());\n}","map":{"version":3,"sources":["/home/ubuntu/Desktop/SailNav/client/src/API.js"],"names":["API_URL","window","location","hostname","getLocation","fetch","then","res","json","locations","sendLocation","method","headers","body","JSON","stringify"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,WAA7B,GAA2C,uCAA3C,GAAqF,4CAArG,C,CAEA;;AACA,OAAO,SAASC,WAAT,GAAuB;AAC1B;AACA,SAAOC,KAAK,CAACL,OAAD,CAAL,CACFM,IADE,CACGC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADV,EAEFF,IAFE,CAEGG,SAAS,IAAI;AACf,WAAOA,SAAP;AACH,GAJE,CAAP;AAKH;AAED;;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAO,SAASC,YAAT,CAAsBR,QAAtB,EAAgC;AACrC,SAAOG,KAAK,CAACL,OAAD,EAAU;AACpBW,IAAAA,MAAM,EAAE,MADY;AAEpBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFW;AAKpBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,QAAf;AALc,GAAV,CAAL,CAMJI,IANI,CAMCC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANR,CAAP;AAOD","sourcesContent":["const API_URL = window.location.hostname === 'localhost' ? 'http://localhost:5000/api/v1/messages' : 'http://52.221.214.117:5000/api/v1/messages';\r\n\r\n// Get database location\r\nexport function getLocation() {\r\n    //Fetching the sailboat latest location\r\n    return fetch(API_URL)\r\n        .then(res => res.json())\r\n        .then(locations => {\r\n            return locations\r\n        });\r\n}\r\n\r\n/* Get current location\r\nexport function getCurLocation() {\r\n  return new Promise((resolve) => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      resolve({\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      });\r\n    }, () => {      \r\n      resolve(fetch('https://ipapi.co/json')\r\n        .then(res => res.json())\r\n        .then(location => {\r\n          return {\r\n            lat: location.latitude,\r\n            lng: location.longitude\r\n          };\r\n        }));\r\n    });\r\n  });\r\n}\r\n*/\r\n\r\nexport function sendLocation(location) {\r\n  return fetch(API_URL, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify(location)\r\n  }).then(res => res.json());\r\n}"]},"metadata":{},"sourceType":"module"}