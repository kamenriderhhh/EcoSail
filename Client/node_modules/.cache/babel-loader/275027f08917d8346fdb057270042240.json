{"ast":null,"code":"const API_URL = window.location.hostname === 'localhost' ? 'http://10.234.35.203:80/api/v1/locations' : 'http://202.170.57.175:80/api/v1/locations';\nexport function getNewLocation() {\n  //Fetching the sailboat latest location\n  return fetch(API_URL).then(res => res.json()).then(locations => {\n    return locations;\n  });\n}\nexport function getLocation() {\n  return new Promise(resolve => {\n    navigator.geolocation.getCurrentPosition(position => {\n      resolve({\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      });\n    }, () => {\n      resolve(fetch('https://ipapi.co/json').then(res => res.json()).then(location => {\n        return {\n          lat: location.latitude,\n          lng: location.longitude\n        };\n      }));\n    });\n  });\n}\nexport function sendMessage(location) {\n  return fetch(API_URL, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify(location)\n  }).then(res => res.json());\n}","map":{"version":3,"sources":["F:\\Project\\FYP-project\\client\\src\\API.js"],"names":["API_URL","window","location","hostname","getNewLocation","fetch","then","res","json","locations","getLocation","Promise","resolve","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","sendMessage","method","headers","body","JSON","stringify"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,WAA7B,GAA2C,0CAA3C,GAAwF,2CAAxG;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC7B;AACA,SAAOC,KAAK,CAACL,OAAD,CAAL,CACFM,IADE,CACGC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADV,EAEFF,IAFE,CAEGG,SAAS,IAAI;AACf,WAAOA,SAAP;AACH,GAJE,CAAP;AAKH;AAED,OAAO,SAASC,WAAT,GAAuB;AAC5B,SAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC9BC,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAA0CC,QAAD,IAAc;AACrDJ,MAAAA,OAAO,CAAC;AACNK,QAAAA,GAAG,EAAED,QAAQ,CAACE,MAAT,CAAgBC,QADf;AAENC,QAAAA,GAAG,EAAEJ,QAAQ,CAACE,MAAT,CAAgBG;AAFf,OAAD,CAAP;AAID,KALD,EAKG,MAAM;AACPT,MAAAA,OAAO,CAACP,KAAK,CAAC,uBAAD,CAAL,CACLC,IADK,CACAC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADP,EAELF,IAFK,CAEAJ,QAAQ,IAAI;AAChB,eAAO;AACLe,UAAAA,GAAG,EAAEf,QAAQ,CAACiB,QADT;AAELC,UAAAA,GAAG,EAAElB,QAAQ,CAACmB;AAFT,SAAP;AAID,OAPK,CAAD,CAAP;AAQD,KAdD;AAeD,GAhBM,CAAP;AAiBD;AAED,OAAO,SAASC,WAAT,CAAqBpB,QAArB,EAA+B;AACpC,SAAOG,KAAK,CAACL,OAAD,EAAU;AACpBuB,IAAAA,MAAM,EAAE,MADY;AAEpBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFW;AAKpBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAezB,QAAf;AALc,GAAV,CAAL,CAMJI,IANI,CAMCC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANR,CAAP;AAOD","sourcesContent":["const API_URL = window.location.hostname === 'localhost' ? 'http://10.234.35.203:80/api/v1/locations' : 'http://202.170.57.175:80/api/v1/locations';\r\n\r\nexport function getNewLocation() {\r\n    //Fetching the sailboat latest location\r\n    return fetch(API_URL)\r\n        .then(res => res.json())\r\n        .then(locations => {\r\n            return locations\r\n        });\r\n}\r\n\r\nexport function getLocation() {\r\n  return new Promise((resolve) => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      resolve({\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      });\r\n    }, () => {      \r\n      resolve(fetch('https://ipapi.co/json')\r\n        .then(res => res.json())\r\n        .then(location => {\r\n          return {\r\n            lat: location.latitude,\r\n            lng: location.longitude\r\n          };\r\n        }));\r\n    });\r\n  });\r\n}\r\n\r\nexport function sendMessage(location) {\r\n  return fetch(API_URL, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify(location)\r\n  }).then(res => res.json());\r\n}"]},"metadata":{},"sourceType":"module"}