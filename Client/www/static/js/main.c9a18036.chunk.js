(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a.p+"static/media/logo.2679352a.png"},127:function(e,t,a){e.exports=a.p+"static/media/dashboard.89a73eb8.png"},128:function(e,t){e.exports="data:image/png;base64,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"},129:function(e,t,a){e.exports=a.p+"static/media/camera.4307a02e.png"},130:function(e,t,a){e.exports=a.p+"static/media/map.a22a04a1.png"},131:function(e,t,a){e.exports=a.p+"static/media/logout.9afa9ac6.png"},271:function(e,t,a){e.exports=a.p+"static/media/pinpoint.b0112773.png"},272:function(e,t,a){e.exports=a.p+"static/media/pinpoint2.9d47d235.png"},273:function(e,t,a){e.exports=a.p+"static/media/pinpoint3.b8b4897e.png"},290:function(e,t,a){e.exports=a(636)},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},320:function(e,t,a){},332:function(e,t){},334:function(e,t){},368:function(e,t){},369:function(e,t){},439:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},533:function(e,t,a){},614:function(e,t,a){},636:function(e,t,a){"use strict";a.r(t);var n=a(0),A=a.n(n),o=a(36),r=a.n(o),i=(a(295),a(296),a(297),a(37)),s=a(29),l=a(39),c=a(38),u=a(40),m=a(42),g=a(71),d=(a(298),function(e){return A.a.createElement("button",{className:"toggle-button",onClick:e.click},A.a.createElement("div",{className:"toggle-button__line"}),A.a.createElement("div",{className:"toggle-button__line"}),A.a.createElement("div",{className:"toggle-button__line"}))}),p=(a(299),a(126)),E=a.n(p),h=a(127),f=a.n(h),b=a(128),v=a.n(b),w=a(129),y=a.n(w),C=a(130),D=a.n(C),B=a(131),S=a.n(B),I=function(e){return A.a.createElement("header",{className:"toolbar border"},!0===e.loginStatus?A.a.createElement("nav",{className:"toolbar__navigation"},A.a.createElement("div",{className:"toolbar__toggle-button"},A.a.createElement(d,{click:e.drawerClickHandler})),A.a.createElement("div",{className:"toolbar__logo"},A.a.createElement("img",{className:"toolbar-logo",src:E.a,alt:"Logo"})),A.a.createElement("div",{className:"toolbar__title"},A.a.createElement("h2",null,"ECOSAIL")),A.a.createElement("div",{className:"spacer"}),A.a.createElement("div",{className:"toolbar_navigation-items"},A.a.createElement("ul",null,A.a.createElement("li",null,A.a.createElement(m.b,{to:"/"},A.a.createElement("img",{className:"toolbar-icon",src:f.a,alt:"Dashboard"}),"Dashboard")),A.a.createElement("li",null,A.a.createElement(m.b,{to:"/map"},A.a.createElement("img",{className:"toolbar-icon",src:D.a,alt:"Map"}),"Map")),A.a.createElement("li",null,A.a.createElement(m.b,{to:"/camera"},A.a.createElement("img",{className:"toolbar-icon",src:y.a,alt:"Camera"}),"Camera")),A.a.createElement("li",null,A.a.createElement(m.b,{to:"/data"},A.a.createElement("img",{className:"toolbar-icon",src:v.a,alt:"Data"}),"Data")),A.a.createElement("li",{onClick:e.login},A.a.createElement(m.b,{to:"/"},A.a.createElement("img",{className:"toolbar-icon",src:S.a,alt:"Logout"}),"Logout"))))):A.a.createElement("nav",{className:"toolbar__navigation",style:{display:"flex",justifyContent:"center"}},A.a.createElement("h2",null,"Welcome to ECOSAIL")))},k=(a(304),function(e){var t="side-drawer";return e.show&&e.loginStatus&&(t="side-drawer open"),A.a.createElement("nav",{className:t},A.a.createElement("div",{className:"picture"},A.a.createElement("img",{className:"darwer-img",src:E.a,alt:"Avatar"})),A.a.createElement("div",{className:"drawerFrame"},A.a.createElement("ul",null,A.a.createElement("li",null,A.a.createElement(m.b,{to:"/"},A.a.createElement("img",{className:"sideDrawer-icon",src:f.a,alt:"Dashboard"}),"Dashboard")),A.a.createElement("li",null,A.a.createElement(m.b,{to:"/map"},A.a.createElement("img",{className:"sideDrawer-icon",src:D.a,alt:"Map"}),"Map")),A.a.createElement("li",null,A.a.createElement(m.b,{to:"/camera"},A.a.createElement("img",{className:"sideDrawer-icon",src:y.a,alt:"Camera"}),"Camera")),A.a.createElement("li",null,A.a.createElement(m.b,{to:"/data"},A.a.createElement("img",{className:"sideDrawer-icon",src:v.a,alt:"Data"}),"Data")),A.a.createElement("li",{onClick:e.login},A.a.createElement(m.b,{to:"/"},A.a.createElement("img",{className:"toolbar-icon",src:S.a,alt:"Logout"}),"Logout")))))}),O=(a(305),function(e){return A.a.createElement("div",{className:"backdrop",onClick:e.click})}),N=a(661),x=a(662),j=a(663),L=a(664),Q=a(665),T=a(666),P=a(667),V=a(668),M=a(94),H=a.n(M),F="localhost"===window.location.hostname?"https://localhost:5000":"https://kero.codes:5000",G=F+"/authed/data/getSensorNodes",z=F+"/authed/data/getDestination",Y=F+"/authed/data/postDestination",U=F+"/auth/signup",R=F+"/auth/signin";function J(){return fetch(G).then(function(e){return e.json()}).then(function(e){return e})}var X,q="ecosail-secret-key",W=F+"/notification",Z=(a(320),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).updateSensorData=function(){J().then(function(e){a.setState({tempValue:e.tempValue,pHValue:e.pHValue,doValue:e.doValue,ecValue:e.ecValue,turbValue:e.turbValue})})},a.state={tempValue:NaN,pHValue:NaN,doValue:NaN,ecValue:NaN,turbValue:NaN},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updateSensorData(),this.timer=setInterval(function(){return e.updateSensorData()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){var e={fontWeight:"bold",display:"flex",justifyContent:"center"};return A.a.createElement("div",{className:"main"},A.a.createElement("div",{className:"main-item"},A.a.createElement("h3",{style:{textDecoration:"underline"}},"Boat Selection Panel"),A.a.createElement(N.a,null,A.a.createElement(x.a,null,A.a.createElement(j.a,{for:"sailboatSelect"},"The current selected Sailboat ID: ",this.props.selectedBID),A.a.createElement(L.a,{type:"select",name:"select",id:"sailboatSelect",onChange:this.props.selectBoat},A.a.createElement("option",null,"1"),A.a.createElement("option",null,"2"),A.a.createElement("option",null,"3")))),A.a.createElement("div",{className:"borderline"}),A.a.createElement("h3",{style:{paddingTop:"10px",textDecoration:"underline"}},"Real Time Data"),A.a.createElement(Q.a,null,A.a.createElement(T.a,{body:!0,outline:!0,color:"secondary"},A.a.createElement(P.a,{style:e},"Temperature Sensor"),A.a.createElement("div",{className:"gauge"},A.a.createElement(H.a,{fluidWidth:!0,maxValue:60,minValue:-20,value:this.state.tempValue,needleColor:"#FF6C40",startColor:"lightblue",segments:16,endColor:"red",currentValueText:"Current Value: ${value} \u2103"})),A.a.createElement("br",null),A.a.createElement(V.a,{style:{display:"flex",justifyContent:"center"}},this.state.tempValue?"Active":"Not Active")),A.a.createElement(T.a,{body:!0,outline:!0,color:"secondary"},A.a.createElement(P.a,{style:e},"pH Sensor"),A.a.createElement("div",{className:"gauge"},A.a.createElement(H.a,{fluidWidth:!0,maxValue:14,minValue:1,value:this.state.pHValue,needleColor:"#FF6C40",startColor:"red",segments:14,endColor:"green",currentValueText:"Current Value: ${value}"})),A.a.createElement("br",null),A.a.createElement(V.a,{style:{display:"flex",justifyContent:"center"}},this.state.pHValue?"Active":"Not Active")),A.a.createElement(T.a,{body:!0,outline:!0,color:"secondary"},A.a.createElement(P.a,{style:e},"Dissolved Oxygen Sensor"),A.a.createElement("div",{className:"gauge"},A.a.createElement(H.a,{fluidWidth:!0,maxValue:20,minValue:0,value:this.state.doValue,needleColor:"#FF6C40",startColor:"yellow",segments:6,endColor:"red",currentValueText:"Current Value: ${value} mg/L"})),A.a.createElement("br",null),A.a.createElement(V.a,{style:{display:"flex",justifyContent:"center"}},this.state.doValue?"Active":"Not Active")),A.a.createElement(T.a,{body:!0,outline:!0,color:"secondary"},A.a.createElement(P.a,{style:e},"Electrical Conductivity/Salinity Sensor"),A.a.createElement("div",{className:"gauge"},A.a.createElement(H.a,{fluidWidth:!0,maxValue:20,minValue:0,value:this.state.ecValue,needleColor:"#FF6C40",startColor:"green",segments:6,endColor:"blue",currentValueText:"Current Value: ${value} mS/cm"})),A.a.createElement("br",null),A.a.createElement(V.a,{style:{display:"flex",justifyContent:"center"}},this.state.ecValue?"Active":"Not Active")),A.a.createElement(T.a,{body:!0,outline:!0,color:"secondary"},A.a.createElement(P.a,{style:e},"Turbidity Sensor"),A.a.createElement("div",{className:"gauge"},A.a.createElement(H.a,{fluidWidth:!0,maxValue:3e3,minValue:0,value:this.state.turbValue,needleColor:"#FF6C40",startColor:"white",segments:10,endColor:"brown",currentValueText:"Current Value: ${value} NTU"})),A.a.createElement("br",null),A.a.createElement(V.a,{style:{display:"flex",justifyContent:"center"}},this.state.turbValue?"Active":"Not Active")))))}}]),t}(n.Component)),K=a(284),_=a(133),$=a(270),ee=a(25),te=a.n(ee),ae=a(681),ne=a(684),Ae=a(670),oe=a(685),re=a(669),ie=a(92),se=a.n(ie),le=a(271),ce=a.n(le),ue=a(272),me=a.n(ue),ge=a(273),de=a.n(ge),pe=(a(439),a(440),function(e){return A.a.createElement(T.a,{body:!0,className:"location-form"},A.a.createElement(P.a,null,"Sailboat Geolocation"),e.sendingLocation||e.sentLocation||!e.haveUsersLocation?e.sendingLocation||e.haveUsersLocation?A.a.createElement(V.a,null,"Successfully submit a location!"):A.a.createElement(V.a,null,"No boat location is detected!"):A.a.createElement(N.a,{onSubmit:e.formSubmitted},A.a.createElement(x.a,null,A.a.createElement(j.a,{for:"slat"},"Latitude"),A.a.createElement(L.a,{onChange:e.valueChanged,value:0!==Object.keys(e.marker).length?e.marker[0].lat:0,type:"number",step:"0.0000001",name:"slat",id:"slat",placeholder:"Enter the latitude"})),A.a.createElement(x.a,null,A.a.createElement(j.a,{for:"slng"},"Longitude"),A.a.createElement(L.a,{onChange:e.valueChanged,value:0!==Object.keys(e.marker).length?e.marker[0].lng:0,type:"number",step:"0.0000001",name:"slng",id:"slng",placeholder:"Enter the longitude"})),A.a.createElement(re.a,{type:"cancel",color:"danger",onClick:e.cancelLocation},"Cancel")," "," ",A.a.createElement(re.a,{type:"submit",color:"info",disabled:!e.formIsValid()},"Send")))}),Ee=te.a.icon({iconUrl:ce.a,iconSize:[30,41],iconAnchor:[12.5,40],popupAnchor:[0,-45]}),he=te.a.icon({iconUrl:me.a,iconSize:[30,41],iconAnchor:[12.5,40],popupAnchor:[0,-45]}),fe=te.a.icon({iconUrl:de.a,iconSize:[30,41],iconAnchor:[12.5,40],popupAnchor:[0,-45]}),be=se.a.object().keys({latitude:se.a.number().min(-90).max(90).required(),longitude:se.a.number().min(-180).max(180).required()}),ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,A=new Array(n),o=0;o<n;o++)A[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(A)))).state={location:{lat:5.354482,lng:100.301226},haveUsersLocation:!0,zoom:18,userSetDest:{slat:"",slng:""},markerData:[],curLocations:[],destinations:[],showLocationForm:!1,sendingLocation:!1,sentLocation:!1,destDraggable:!0},a.updateLocation=function(){fetch(z).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){a.setState({destinations:e})}),J().then(function(e){a.setState({curLocations:e,haveUsersLocation:!0,zoom:18})})},a.showLocationForm=function(){a.setState({showLocationForm:!0})},a.cancelLocation=function(){a.setState({showLocationForm:!1})},a.formIsValid=function(){var e={latitude:a.state.userSetDest.slat,longitude:a.state.userSetDest.slng};return!(se.a.validate(e,be).error||!e)},a.formSubmitted=function(e){if(e.preventDefault(),a.formIsValid()){a.setState({sendingLocation:!0});var t={boatID:a.props.selectedBID,latitude:a.state.userSetDest.slat,longitude:a.state.userSetDest.slng};(n=t,fetch(Y,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()})).then(function(e){setTimeout(function(){a.setState({sendingLocation:!1,sentLocation:!0})},4e3)})}var n;a.setState({markerData:[]}),a.updateLocation()},a.valueChanged=function(e){var t=e.target,n=t.name,A=t.value;a.setState(function(e){return{userSetDest:Object($.a)({},e.userSetDest,Object(_.a)({},n,A))}})},a.toggleDraggable=function(){a.setState({destDraggable:!a.state.destDraggable})},a.updateMarker=function(e){var t=e.target.getLatLng(),n=e.target.options.marker_index;t.lat=t.lat.toFixed(6),t.lng=t.lng.toFixed(6),a.setState(function(e){var a=Object(K.a)(e.markerData);return a[n]=t,{markerData:a}})},a.addMarker=function(e){if(0===Object.keys(a.state.markerData).length){var t=a.state.markerData,n=e.latlng;n.lat=n.lat.toFixed(6),n.lng=n.lng.toFixed(6),t.push(n),a.setState({markerData:t})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updateLocation(),this.timer=setInterval(function(){return e.updateLocation()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){var e=this,t=[this.state.location.lat,this.state.location.lng],a=[this.state.location.lat,this.state.location.lng],n=[];if(0!==Object.keys(this.state.curLocations).length){var o=this.state.curLocations;t[0]=parseFloat(o.latitude),t[1]=parseFloat(o.longitude)}return 0!==Object.keys(this.state.destinations).length&&(a[0]=parseFloat(this.state.destinations.latitude),a[1]=parseFloat(this.state.destinations.longitude)),0!==Object.keys(this.state.markerData).length&&(n[0]=parseFloat(this.state.markerData[0].lat),n[1]=parseFloat(this.state.markerData[0].lng)),A.a.createElement("div",null,A.a.createElement(ae.a,{className:"map",center:t,zoom:this.state.zoom,onClick:this.addMarker},A.a.createElement(ne.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.haveUsersLocation?A.a.createElement(Ae.a,{position:t,icon:Ee},A.a.createElement(oe.a,null,"lat:",t[0],", lng:",t[1])):"",this.state.haveUsersLocation?A.a.createElement(Ae.a,{position:a,icon:he},A.a.createElement(oe.a,null,"lat:",a[0],", lng:",a[1])):"",this.state.markerData.map(function(t,a){return A.a.createElement(Ae.a,{key:a,marker_index:a,position:t,icon:fe,draggable:e.state.destDraggable,onDragend:e.updateMarker},A.a.createElement(oe.a,{autoClose:!1},A.a.createElement("span",{onClick:e.toggleDraggable},"lat:",n[0],", lng:",n[1])))})),this.state.showLocationForm?this.state.sentLocation?this.setState({sentLocation:!1,showLocationForm:!1}):A.a.createElement(pe,{cancelLocation:this.cancelLocation,showLocationForm:this.state.showLocationForm,sendingLocation:this.state.sendingLocation,sentLocation:this.state.sentLocation,haveUsersLocation:this.state.haveUsersLocation,formSubmitted:this.formSubmitted,valueChanged:this.valueChanged,formIsValid:this.formIsValid,marker:this.state.markerData}):A.a.createElement(re.a,{className:"location-form",onClick:this.showLocationForm,color:"info"},"Add a location"))}}]),t}(n.Component),we=(a(441),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return A.a.createElement("div",{className:"cameraView"},A.a.createElement("h2",null,"Camera From the Boat"),A.a.createElement("p",null,"Not Availble Yet!"))}}]),t}(n.Component)),ye=a(274),Ce=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=["Jan","Feb","Mar","Apr","May","Jun"];return this.props.filterDays&&(e=[],e=this.props.date),A.a.createElement("div",null,A.a.createElement(T.a,{body:!0,outline:!0,color:"secondary"},A.a.createElement(P.a,{style:{fontWeight:"bold"}},this.props.name),A.a.createElement(ye.a,{data:{labels:e,datasets:[{label:this.props.name,fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:this.props.color,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:this.props.color,pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:this.props.color,pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.props.data}]}})))}}]),t}(n.Component),De=a(276),Be=a.n(De),Se=a(671),Ie=a(672),ke=(a(533),a(534),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).selectFilterBased=function(e){a.setState({filterBased:document.getElementById("filterBased").value},function(){"Days"===a.state.filterBased&&a.updateDateList()})},a.selectFilterDays=function(e){a.setState({filterDays:document.getElementById("filterDays").value},function(){a.updateDateList()})},a.handleChange=function(e){a.setState({startDate:e},function(){a.updateDateList()})},a.updateDateList=function(){for(var e=[],t=new Date(JSON.parse(JSON.stringify(a.state.startDate))),n=0;n<a.state.filterDays;n++)e.push(t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()),t.setDate(t.getDate()+1);a.setState({dateList:e},function(){})},a.state={tempValue:[30,20,25,26,18,28,19],pHValue:[4,3,4,2,5,6,4],dOValue:[8.25,8.79,9.21,7.9,7.81,8.33,8.52],conducValue:[12.3,11.5,13.2,11.5,12.5,12.8,13],turbValue:[2435,2391,2600,2680,2750,2512,2480],filterBased:NaN,filterDays:2,startDate:new Date,dateList:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.startDate,t=this.state.dateList,a=this.state.filterBased,n=this.state.filterDays;return A.a.createElement("div",{className:"dataView"},A.a.createElement("h3",{style:{textDecoration:"underline"}},"Historical Data"),A.a.createElement(N.a,null,A.a.createElement(x.a,null,A.a.createElement(Se.a,null,A.a.createElement(Ie.a,null,A.a.createElement(j.a,{for:"filterBased"},"Filter based on Months/Days:"),A.a.createElement(L.a,{type:"select",name:"select",id:"filterBased",onChange:this.selectFilterBased},A.a.createElement("option",null,"Months"),A.a.createElement("option",null,"Days"))),A.a.createElement(Ie.a,null,A.a.createElement(j.a,{for:"filterDays"},"Show data for days:"),A.a.createElement(L.a,{type:"select",name:"select",id:"filterDays",onChange:this.selectFilterDays,disabled:"Days"!==a},A.a.createElement("option",null,"2"),A.a.createElement("option",null,"3"),A.a.createElement("option",null,"5"),A.a.createElement("option",null,"7"))),A.a.createElement(Ie.a,null,A.a.createElement(j.a,{for:"filterDate"},"Select the date:"),A.a.createElement("br",null),A.a.createElement(Be.a,{id:"datePicker",dateFormat:"dd/MM/yyyy",selected:e,disabled:"Days"!==a,onChange:this.handleChange}))))),"Days"===this.state.filterBased?A.a.createElement(Q.a,null,A.a.createElement(Ce,{name:"Temperature",data:this.state.tempValue,date:t,filterDays:n,color:"red"}),A.a.createElement(Ce,{name:"pH",data:this.state.pHValue,date:t,filterDays:n,color:"blue"}),A.a.createElement(Ce,{name:"Dissolve Oxygen",data:this.state.dOValue,date:t,filterDays:n,color:"green"}),A.a.createElement(Ce,{name:"Electrical Conductivity/Salinity",data:this.state.conducValue,date:t,filterDays:n,color:"orange"}),A.a.createElement(Ce,{name:"Turbidity",data:this.state.turbValue,date:t,filterDays:n,color:"purple"})):A.a.createElement(Q.a,null,A.a.createElement(Ce,{name:"Temperature",data:this.state.tempValue,color:"red"}),A.a.createElement(Ce,{name:"pH",data:this.state.pHValue,color:"blue"}),A.a.createElement(Ce,{name:"Dissolve Oxygen",data:this.state.dOValue,color:"green"}),A.a.createElement(Ce,{name:"Electrical Conductivity/Salinity",data:this.state.conducValue,color:"orange"}),A.a.createElement(Ce,{name:"Turbidity",data:this.state.turbValue,color:"purple"})))}}]),t}(n.Component)),Oe=a(81),Ne=a(676),xe=a(677),je=a(686),Le=a(678),Qe=a(283),Te=a(682),Pe=a(680),Ve=a(194),Me=a.n(Ve),He=(a(614),a(33)),Fe=a.n(He),Ge=a(67),ze=a(26),Ye=a(641),Ue=a(673),Re=a(679),Je=a(674),Xe=a(675),qe=a(17),We=a(149),Ze=a.n(We),Ke=a(150),_e=a.n(Ke);a(640);_e.a.initializeApp({apiKey:"AIzaSyDNz5eT9ET9MniwLiy1jMcipn-u5p6e1lo",authDomain:"ecosail-b40e1.firebaseapp.com",databaseURL:"https://ecosail-b40e1.firebaseio.com",projectId:"ecosail-b40e1",storageBucket:"ecosail-b40e1.appspot.com",messagingSenderId:"845694912281",appId:"1:845694912281:web:61d26daacf6c7517502788",measurementId:"G-LBG7V6CTTP"}),_e.a.messaging.isSupported()&&(X=_e.a.messaging()),"serviceWorker"in navigator&&window.addEventListener("load",Object(Ge.a)(Fe.a.mark(function e(){var t;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready.then();case 2:return e.next=4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{updateViaCache:"none"});case 4:t=e.sent,X.useServiceWorker(t),X.onMessage(function(e){var a=e.notification.title,n={body:e.notification.body,icon:e.notification.icon,actions:[{action:e.fcmOptions.link,title:"Book Appointment"}]};t.showNotification(a,n)});case 7:case"end":return e.stop()}},e)})));var $e=W,et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={EcoSailSubscriptionToggleSwitch:!1,snackbar:!1,snackbarMessage:""},a.EcoSailSubscriptionToggle=a.EcoSailSubscriptionToggle.bind(Object(ze.a)(a)),a.subscribeEcoSailNotifications=a.subscribeEcoSailNotifications.bind(Object(ze.a)(a)),a.unsubscribeEcoSailNotifications=a.unsubscribeEcoSailNotifications.bind(Object(ze.a)(a)),a.notificationPermission=a.notificationPermission.bind(Object(ze.a)(a)),a.displayMessage=a.displayMessage.bind(Object(ze.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){"TRUE"===localStorage.getItem("EcoSailNotificationSubscribed")?this.setState({EcoSailSubscriptionToggleSwitch:!0}):this.setState({EcoSailSubscriptionToggleSwitch:!1})}},{key:"displayMessage",value:function(e){this.setState({snackbar:!0,snackbarMessage:e})}},{key:"sendTokenToDb",value:function(){var e=Object(Ge.a)(Fe.a.mark(function e(t){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.a.post("".concat($e,"/storetoken"),{token:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.status),console.log(e.t0.response.data)):e.t0.request?console.log(e.t0.request):console.log("Error: ",e.t0.message);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTokenFromDb",value:function(){var e=Object(Ge.a)(Fe.a.mark(function e(){var t;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==localStorage.getItem("EcoSailNotificationSubscribed")){e.next=6;break}return t=localStorage.getItem("instanceToken"),e.next=5,Ze.a.delete("".concat($e,"/deletetoken"),{data:{token:t}});case 5:localStorage.removeItem("instanceToken");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.status),console.log(e.t0.response.data)):e.t0.request?console.log(e.t0.request):console.log("Error: ",e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"notificationPermission",value:function(){var e=Object(Ge.a)(Fe.a.mark(function e(){var t,a;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,e.prev=1,"granted"===Notification.permission){e.next=5;break}return e.next=5,X.requestPermission();case 5:if(null===localStorage.getItem("instanceToken")){e.next=9;break}t=!0,e.next=16;break;case 9:return e.next=11,X.getToken();case 11:return a=e.sent,e.next=14,this.sendTokenToDb(a);case 14:localStorage.setItem("instanceToken",a),t=!0;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log("Notification permission: "+e.t0),e.t0.hasOwnProperty("code")&&"messaging/permission-default"===e.t0.code?this.displayMessage(A.a.createElement("span",null,"You need to allow the site to send notifications")):e.t0.hasOwnProperty("code")&&"messaging/permission-blocked"===e.t0.code?this.displayMessage(A.a.createElement("span",null,"Currently, the site is blocked from sending notifications. Please unblock the same in your browser settings.")):this.displayMessage(A.a.createElement("span",null,"Unable to subscribe you to notifications"));case 22:return e.prev=22,e.abrupt("return",t);case 25:case"end":return e.stop()}},e,this,[[1,18,22,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"subscriptionActions",value:function(){var e=Object(Ge.a)(Fe.a.mark(function e(t,a,n){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze.a.post("".concat($e,"/").concat(t),{token:a,topic:n});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.status),console.log(e.t0.response.data)):e.t0.request?console.log(e.t0.request):console.log("Error: ",e.t0.message),e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"subscribeEcoSailNotifications",value:function(){var e=Object(Ge.a)(Fe.a.mark(function e(){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.notificationPermission();case 2:if(!e.sent){e.next=8;break}return e.next=6,this.subscriptionActions("subscribe",localStorage.getItem("instanceToken"),"EcoSailNotifications");case 6:e.sent?(localStorage.setItem("EcoSailNotificationSubscribed","TRUE"),this.setState({EcoSailSubscriptionToggleSwitch:!0}),this.displayMessage(A.a.createElement("span",null,"EcoSail notifications have been enabled for your device"))):this.displayMessage(A.a.createElement("span",null,"Unable to subscribe you to notifications"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"unsubscribeEcoSailNotifications",value:function(){var e=Object(Ge.a)(Fe.a.mark(function e(){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.subscriptionActions("unsubscribe",localStorage.getItem("instanceToken"),"EcoSailNotifications");case 2:if(!e.sent){e.next=11;break}return localStorage.removeItem("EcoSailNotificationSubscribed"),e.next=7,this.deleteTokenFromDb();case 7:this.setState({EcoSailSubscriptionToggleSwitch:!1}),this.displayMessage(A.a.createElement("span",null,"You have been unsubscribed from notifications")),e.next=12;break;case 11:this.displayMessage(A.a.createElement("span",null,"Unsubscribe failed"));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"EcoSailSubscriptionToggle",value:function(e,t){t?this.subscribeEcoSailNotifications():this.unsubscribeEcoSailNotifications()}},{key:"renderSubscriptionOptions",value:function(e){return"serviceWorker"in navigator||"PushManager"in window?A.a.createElement(n.Fragment,null,A.a.createElement(Ue.a,{control:A.a.createElement(Re.a,null),label:"Enable/Disable EcoSail Notifications",onChange:this.EcoSailSubscriptionToggle,checked:this.state.EcoSailSubscriptionToggleSwitch}),A.a.createElement(Ye.a,{className:e.noteTextPos},"Notifications are delivered real time through your browser. You need to have your browser open (not necessarily the site) inorder to receive the notifications."),A.a.createElement(Ye.a,{className:e.noteTextPos},"To receive notifications in your mobile as well, please enable the option by visiting the site in your mobile browser."),A.a.createElement(Ye.a,{className:e.noteTextPos},"If you had previously blocked notifications from the site in your browser settings then you need to unblock it. Check out ",A.a.createElement("a",{href:"https://support.google.com/chrome/answer/3220216"},"Turn notifications on or off for Chrome.")),A.a.createElement(Ye.a,{className:e.noteTextPos},"If incase, you are not receiving any notifications then it could be an issue with your browser. Try deleting your browser cache and re-installing it if the issue persists.")):A.a.createElement(Ye.a,{className:e.noteTextPos},"Notification feature is supported only in:",A.a.createElement("br",null),"Chrome Desktop and Mobile (version 50+)",A.a.createElement("br",null),"Firefox Desktop and Mobile (version 44+)",A.a.createElement("br",null),"Opera on Mobile (version 37+)")}},{key:"render",value:function(){var e=this,t=this.props.classes;return A.a.createElement(n.Fragment,null,A.a.createElement(Je.a,{className:t.card},A.a.createElement(Xe.a,null,this.renderSubscriptionOptions(t),A.a.createElement(Pe.a,{anchorOrigin:{horizontal:"right",vertical:"bottom"},open:this.state.snackbar,autoHideDuration:5e3,onClose:function(){return e.setState({snackbar:!1,snackbarMessage:""})},message:this.state.snackbarMessage}))))}}]),t}(n.Component),tt=Object(qe.a)(function(e){return{card:{marginTop:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2)},noteTextPos:{marginTop:e.spacing(2)}}})(et);function at(e){var t=Object(n.useState)(""),a=Object(Oe.a)(t,2),o=a[0],r=a[1],i=Object(n.useState)(""),s=Object(Oe.a)(i,2),l=s[0],c=s[1],u=Object(n.useState)(!1),m=Object(Oe.a)(u,2),g=m[0],d=m[1],p=Object(n.useState)(!1),E=Object(Oe.a)(p,2),h=E[0],f=E[1],b=Object(n.useState)(!1),v=Object(Oe.a)(b,2),w=v[0],y=v[1],C=Object(n.useState)(""),D=Object(Oe.a)(C,2),B=D[0],S=D[1];function I(){return o.length>2&&l.length>5}function k(e){y(!0),S(e)}function O(){return new Promise(function(e){return setTimeout(e,2e3)})}Object(n.useEffect)(function(){g&&O().then(function(){d(!1)}),h&&O().then(function(){f(!1)})},[g,h]);return A.a.createElement("div",{className:"Login"},A.a.createElement("form",null,A.a.createElement(Ne.a,{controlId:"email",bssize:"large"},A.a.createElement(xe.a,null,"Email"),A.a.createElement(je.a,{controlid:"email",autoFocus:!0,type:"email",value:o,onChange:function(e){return r(e.target.value)}})),A.a.createElement(Ne.a,{controlId:"password",bssize:"large"},A.a.createElement(xe.a,null,"Password"),A.a.createElement(je.a,{controlid:"password",value:l,onChange:function(e){return c(e.target.value)},type:"password"})),A.a.createElement(Le.a,null,A.a.createElement(Qe.a,null,A.a.createElement(Te.a,{id:"loginBtn",block:!0,bssize:"large",disabled:!I()||g||h,type:"submit",onClick:g?null:function(){d(!0),function(e){return fetch(R,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})}({email:document.getElementById("email").value,password:Me.a.AES.encrypt(document.getElementById("password").value,q).toString()}).then(function(t){t.message?k(A.a.createElement("span",null,"Email not found")):null==t.accessToken?k(A.a.createElement("span",null,"Invalid password")):(k(A.a.createElement("span",null,"Successfully login")),e.userLogin()),setTimeout(function(){d(!1)},4e3),c("")})}},g?"Loading...":"Login")),A.a.createElement(Qe.a,null,A.a.createElement(Te.a,{id:"signupBtn",block:!0,bssize:"large",disabled:!I()||g||h,type:"submit",onClick:h?null:function(){f(!0),function(e){return fetch(U,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})}({email:document.getElementById("email").value,password:Me.a.AES.encrypt(document.getElementById("password").value,q).toString()}).then(function(e){"Email is already in use!"===e.message?k(A.a.createElement("span",null,"The email is already in use")):"User registered successfully!"===e.message?k(A.a.createElement("span",null,"User registered successfully")):k(A.a.createElement("span",null,"Error occurs")),setTimeout(function(){f(!1)},5e3),c("")})}},h?"Loading...":"Signup")))),A.a.createElement(tt,null),A.a.createElement(Pe.a,{anchorOrigin:{horizontal:"right",vertical:"bottom"},open:w,autoHideDuration:2e3,onClose:function(){y(!1),S("")},message:B}))}var nt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,A=new Array(n),o=0;o<n;o++)A[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(A)))).state={sideDrawerOpen:!1,boatID:1,login:!1},a.drawerToggleClickHandler=function(){a.setState(function(e){return{sideDrawerOpen:!e.sideDrawerOpen}})},a.backdropClickHandler=function(){a.setState({sideDrawerOpen:!1})},a.selectBoat=function(e){a.setState({boatID:document.getElementById("sailboatSelect").value},function(){})},a.userLogin=function(){a.setState({login:!a.state.login},function(){console.log(a.state.login)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this;return this.state.sideDrawerOpen&&(e=A.a.createElement(O,{click:this.backdropClickHandler})),A.a.createElement(m.a,null,A.a.createElement("div",{style:{height:"100%"}},A.a.createElement(I,{loginStatus:this.state.login,login:this.userLogin,drawerClickHandler:this.drawerToggleClickHandler}),A.a.createElement(k,{show:this.state.sideDrawerOpen,clsDrawer:e,loginStatus:this.state.login,login:this.userLogin}),e,!1===this.state.login?A.a.createElement("div",{className:"content"},A.a.createElement(g.a,{exact:!0,path:"/",render:function(e){return A.a.createElement(at,Object.assign({},e,{userLogin:t.userLogin,loginStatus:t.state.login}))}})):A.a.createElement("div",{className:"content"},A.a.createElement(g.a,{exact:!0,path:"/",render:function(e){return A.a.createElement(Z,Object.assign({},e,{selectBoat:t.selectBoat,selectedBID:t.state.boatID}))}}),A.a.createElement(g.a,{path:"/map",render:function(e){return A.a.createElement(ve,Object.assign({},e,{selectedBID:t.state.boatID}))}}),A.a.createElement(g.a,{path:"/camera",render:function(e){return A.a.createElement(we,Object.assign({},e,{selectedBID:t.state.boatID}))}}),A.a.createElement(g.a,{path:"/data",render:function(e){return A.a.createElement(ke,Object.assign({},e,{selectedBID:t.state.boatID}))}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var At=function(){r.a.render(A.a.createElement(nt,null),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",At,!1):At(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[290,1,2]]]);
//# sourceMappingURL=main.c9a18036.chunk.js.map